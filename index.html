<!doctype html>
<html>
<head>
    <meta charset="utf8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    @font-face {
        font-family: 'Sweet Purple';
        src: url('sweet purple.ttf');
    }

    html, body {
        min-height: 100vh;
        margin: 0px;
        padding: 0px;
    }

    body {
        display: flex;
        flex-direction: column;
    }

    @media (min-width: 800px) {
        #small { display: none }
        #large { display: block }
    }
    @media (max-width: 799px) {
        #small { display: block; }
        #large { display: none }
        #large_content { display: none }
    }
    
    /* HEADER */
    
    #header {
        margin-left: auto;
        margin-right: auto;
    }
    #header_img_container {
        margin-left: 10px;
        margin-right: 10px;
    }
    #header_img {
        max-width: 100%;
    }
    @media (max-width: 799px) {
        #header {
            width: 100%;
        }
    }
    @media (min-width: 800px) and (max-width: 1999px) {
        #header {
            width: 800px;
        }
    }
    @media (min-width: 1999px) {
        #header {
            width: 1200px;
        }
    }
    
    /* -- MOBILE -- */

    #small_img {
        margin-left: auto;
        margin-right: auto;
        max-width: 600px;
    }

    #small_img img {
        width: 100%;
    }

    #small_menu {
    }
    .small_menu_item {
        text-align: center;
        padding-top: 0.8em;
        padding-bottom: 0.8em;
        font-size: 24px;
    }
    .small_menu_item:nth-child(odd) {
        background-color: #eeccaa;
    }
    .small_menu_item:nth-child(even) {
        background-color: #eeaacc;
    }

    /* -- DESKTOP -- */

    #large {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #large_content {
        position: relative;
    }

    #center_img {
        position: relative;
        background-color: gray;
    }

    /* -- large_menu_item -- */

    .large_menu_item {
        border-radius: 50%;
        background-color: white;
        box-shadow: 0px 0px 10px gray;
    }
    
    .large_menu_item a, .large_menu_item a:visited, .large_menu_item a:hover  {
        text-decoration: none;
        color: #222;
    }

    .large_menu_item_text {
        position: absolute;
        z-index: 10;
        bottom: -15%;
        text-align: center;
        width: 100%;
        font-size: 40px;
        font-family: 'Sweet Purple','Times New Roman', Times, serif;
        color: black;
        text-shadow: 0px 0px 5px white;

    }

    .large_menu_item_image {
        position: absolute;
        z-index: 0;
        top: 0px;
        left: 0px;
        border-radius: 50%;
        height: 100%;
        width: 100%;
        overflow: hidden;
    }
    
    .large_menu_item_image a {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        width: 100%;
    }
    

    .large_menu_item_image img {
        width: 80%;
        height: 80%;
    }

    .large_menu_item_active {
        box-shadow: 0px 0px 10px black;
    }
    

    /* about_me */
    #about_me {
        padding: 20px;
        background-color: #aaffcc;
    }
    #about_me h1 {
        margin-top: 0px
    }
    #about_me p {
        margin-bottom: 0px
    }
    @media (max-width: 799px) {
        #about_me_container {
            flex-grow: 1;
            background-color: #aaffcc;
        }
    }
    @media (min-width: 800px) and (max-width: 1999px) {
        #about_me {
            margin-left: auto;
            margin-right: auto;
            margin-top: 30px;
            margin-bottom: 30px;
            border-radius: 20px;
            max-width: 700px;
        }
    }
    @media (min-width: 2000px) {
        #about_me {
            margin-left: auto;
            margin-right: auto;
            margin-top: 30px;
            margin-bottom: 30px;
            border-radius: 20px;
            max-width: 700px;
        }
    }

</style>
</head>
<body>

<div id="header">
    <div id="header_img_container">
        <img id="header_img" src="cropped-loggatest-hemsida.png">
    </div>
</div>


<!-- MOBILE -->


<div id="small">
    <div id="small_content">
        <div id="small_img">
            <img src="elisabeth-on-top.jpg" />
        </div>
        <div id="small_menu">
            <nav>
                <div class="small_menu_item">
                    <a href="https://www.google.com">Psykologi</a>
                </div>
                <div class="small_menu_item">
                    Teater
                </div>
                <div class="small_menu_item">
                    Klimat
		</div>
                <div class="small_menu_item">
                    Kreativitet
                </div>
                <div class="small_menu_item">
                    Pyssel
                </div>
            </nav>
        </div>
    </div>
</div>


<!-- DESKTOP -->


<div id="large">
    <div id="large_content">
        <img id="center_img" src="elisabeth-in-center.jpg" />
        <nav>
            <div class="large_menu_item">
                <div class="large_menu_item_text">
                    <a href="https://www.google.com">Psykologi</a>
                </div>
                <div class="large_menu_item_image">
                    <a href="https://www.google.com"><img src="kategori-psykologi.jpg"></a>
                </div>
            </div>
            <div class="large_menu_item">
                <div class="large_menu_item_text">
                    <a href="https://www.google.com">Teater</a>
                </div>
                <div class="large_menu_item_image">
                    <a href="https://www.google.com"><img src="kategori-teater.jpg"></a>
                </div>
            </div>
            <div class="large_menu_item">
                <div class="large_menu_item_text">
                    <a href="https://www.google.com">Klimat</a>
                </div>
                <div class="large_menu_item_image">
                    <a href="https://www.google.com"><img src="kategori-planta.jpg"></a>
                </div>
            </div>
            <div class="large_menu_item">
                <div class="large_menu_item_text">
                    <a href="https://www.google.com">Kreativitet</a>
                </div>
                <div class="large_menu_item_image">
                    <a href="https://www.google.com"><img src="kategori-kreativitet.jpg"></a>
                </div>
            </div>
            <div class="large_menu_item">
                <div class="large_menu_item_text">
                    <a href="https://www.google.com">Pyssel</a>
                </div>
                <div class="large_menu_item_image">
                    <a href="https://www.google.com"><img src="kategori-pyssel.jpg"></a>
                </div>
            </div>
        </nav>
    </div>
</div>

<div id="about_me_container">
    <div id="about_me">
        <h1>Elisabeth Brånsgård</h1>
        <p>Jag är en person som gillar humlor. Och kreativitet. Och miljö, psykologi; och jag är utbildad, och jag har erfarenhet, köp mig.</p>
        <p>Jag har också gjort vernissage och samarbetat med folk.</p>
    </div>
    <div id="about_me-mobile_filler">
    </div>
</div>

<script>
    let current = 800;

    function drawLarge() {
        let totSize, itemRadius, imgSize;
        if(current == 800) {
            totSize = 800;
            itemRadius = 75;
            imgSize = 500;
        } else if(current == 1200) {
            totSize = 1200;
            itemRadius = 100;
            imgSize = 700;
        } else {
            throw "Expected size to be 800 or 1200";
        }

        const scaleY = 0.8;
        const large = document.querySelector("#large_content");
        const menuItems = document.querySelectorAll(".large_menu_item");

        large.style.width = totSize+"px";
        large.style.height = Math.round(totSize*scaleY)+"px";

        const startingOffset = Math.PI/12;
        const margin = 30;

        const centerX = totSize / 2;
        const centerY = (totSize*scaleY / 2);
        const increase = Math.PI*2 / menuItems.length;

        const setPolarPosition = (menuItem, radians, distance) => {
            const xpos = centerX + Math.cos(radians)*distance - itemRadius;
            const ypos = centerY + Math.sin(radians)*distance*scaleY - itemRadius;

            menuItem.style.left = xpos+"px";
            menuItem.style.top = ypos+"px";
        };

        let angle = startingOffset;
        for(const menuItem of menuItems) {
            menuItem.style.position = "absolute";
            menuItem.style.width = (itemRadius*2)+"px";
            menuItem.style.height = (itemRadius*2)+"px";

            setPolarPosition(menuItem, angle, centerX - itemRadius - margin);

            angle += increase;
        }

        const cimg = document.querySelector("#center_img");
        cimg.style.left = (centerX - imgSize/2)+"px";
        cimg.style.top = (centerY - imgSize/2)+"px";
        cimg.style.width = imgSize+"px";
        cimg.style.height = imgSize+"px";
    }

    window.addEventListener('resize', evt => {
        if(evalSize()) {
            drawLarge();
        }
    });
    
    function evalSize() {
        if(current != 1200 && window.innerWidth >= 2000) {
            current = 1200;
            return true;
        } else if(current != 800 && window.innerWidth < 2000) {
            current = 800;
            return true;
        }
    }
    
    evalSize();
    drawLarge();

/* Hightlight menu items (:hover does not quite handle both the text and the button, since the text is outside of it...)*/

    const as = document.querySelectorAll(".large_menu_item a");
    console.log(as);
    for(const a of as) {
        a.addEventListener("mouseenter", evt => {
            console.log(evt.target);
            evt.target.closest(".large_menu_item").classList.add("large_menu_item_active");
        });
        a.addEventListener("mouseleave", evt => evt.target.closest(".large_menu_item").classList.remove("large_menu_item_active"));
    }

</script>
</body>
</html>
